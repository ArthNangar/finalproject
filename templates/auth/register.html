{% extends "layout.html" %}
{% block content %}
<div class="max-w-md mx-auto rounded-2xl border border-slate-800 bg-slate-900/20 p-8 shadow">
  <h2 class="text-2xl font-semibold">Create your account</h2>
  <p class="mt-2 text-slate-300 text-sm">Register to save calculation history and view stats.</p>

  <form class="mt-6 space-y-4" method="post" action="/auth/register" onsubmit="return validatePasswords();">
    <div>
      <label class="text-sm text-slate-300">Username</label>
      <input name="username" minlength="3" required class="mt-1 w-full rounded-xl bg-slate-950 border border-slate-800 px-3 py-2 outline-none focus:border-indigo-500" />
    </div>
    <div>
      <label class="text-sm text-slate-300">Email</label>
      <input type="email" name="email" required class="mt-1 w-full rounded-xl bg-slate-950 border border-slate-800 px-3 py-2 outline-none focus:border-indigo-500" />
    </div>
    <div>
      <label class="text-sm text-slate-300">Password</label>
      <input id="pw" type="password" name="password" minlength="8" required class="mt-1 w-full rounded-xl bg-slate-950 border border-slate-800 px-3 py-2 outline-none focus:border-indigo-500" />
      <p class="mt-1 text-xs text-slate-400">Min 8 characters</p>
    </div>
    <button class="w-full rounded-xl bg-indigo-600 px-4 py-2 text-sm font-medium hover:bg-indigo-500">Register</button>
  </form>

  <p class="mt-5 text-sm text-slate-300">
    Already have an account? <a class="text-indigo-400 hover:text-indigo-300" href="/login">Login</a>
  </p>
</div>

<script>
function validatePasswords(){
  const p = document.getElementById("pw").value || "";
  if(p.length < 8){
    alert("Password must be at least 8 characters.");
    return false;
  }
  return true;
}
</script>
{% endblock %}